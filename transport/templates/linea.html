{% extends "disposicion.html" %}
{% block content %}
<!--<div class="contenedor-lineas">
    <h1>Línea 5</h1>
    <ul class="lineas">
        <li>
            <div class="linea">5</div>
            <p>Av. do ferrocarril, 81</p>
        </li>
        <li>
            <div class="linea">5</div>
            <p>Av. do ferrocarril, 81</p>
        </li>
        <li>
            <div class="linea">5</div>
            <p>Av. do ferrocarril, 81</p>
        </li>
        <li>
            <div class="linea">5</div>
            <p>Av. do ferrocarril, 81</p>
        </li>
    </ul>
</div>-->
<!-- leafletjs -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css" integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ==" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
<div id="map"></div>
<script>
    var map = L.map('map').setView([43.3445, -8.425], 23);

    var tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a>',
        minZoom: 13
    }).addTo(map);

    var buses = {{ posiciones }};
    var capa = L.geoJSON().addTo(map);
    capa.addData(buses);
</script>
<hr>
<h1>Ida</h1>
{% for parada in buses[0]['paradas'] %}
    <p>Parada {{ parada.parada }}
    {% for bus in parada.buses %}
        <p>Bus nº: {{ bus.bus }}; Estado: {{ bus.estado }}; Distancia: {{ bus.distancia*100 }}%</p>
        <p>0 Significa que el bus está en la parada, 1 significa que el bus está en movimiento, el porcentaje representa el porcentaje del bus en el recorrido total</p>
    {% endfor %}
    <hr>
{% endfor %}
<h1>Vuelta</h1>
{% for parada in buses[1]['paradas'] %}
    <p>Parada {{ parada.parada }}
    {% for bus in parada.buses %}
        <p>Bus nº: {{ bus.bus }}; Estado: {{ bus.estado }}; Distancia: {{ bus.distancia*100 }}%</p>
        <p>0 Significa que el bus está en la parada, 1 significa que el bus está en movimiento, el porcentaje representa el porcentaje del bus en el recorrido total</p>
    {% endfor %}
    <hr>
{% endfor %}
{% endblock content %}